import{r as o,j as t,S as d,a,I as m,B as p,u as f,b,c as C,f as I,T as y,H as g,s as v,d as x}from"./index-7258077c.js";import{D as w,C as D,a as S,b as H}from"./DbHeader-8252df35.js";function k({onIncrement:n}){const[r,c]=o.useState(1);return t(d,{direction:{base:"column",md:"row"},children:[a(m,{variant:"outline",value:r,onChange:e=>c(parseInt(e.target.value))}),a(p,{variant:"outline",colorScheme:"blackAlpha",onClick:()=>n(r),children:"Increment"})]})}function P(){const{id:n}=f(),{findDb:r}=b(),c=C(),e=o.useMemo(()=>r(n||""),[n,r]),[i,l]=o.useState(0),u=o.useCallback(async()=>{if(!e)return;const s=await I(e.payload.value.address,{});l(Number(s||0))},[e]);return o.useEffect(()=>{u()},[u]),t(d,{spacing:4,children:[a(w,{multiHash:n||"",entriesCount:i,showEntriesCount:!0}),t(D,{children:[t(S,{children:[t(y,{children:[a("b",{children:"Count:"})," ",i]}),a("br",{})]}),t(H,{children:[a(g,{fontSize:"sm",mb:2,children:"Increment the value of the counter by:"}),a(k,{onIncrement:async s=>{if(Number(s||0)<=0){v({text:"Please enter a valid number",icon:"error"});return}if(!e)return;const h=await x(e==null?void 0:e.payload.value.address,{pin:!1,entry:{value:s}});c({type:"add",log:{id:h,text:`Incremented counter by ${s} on \`${e==null?void 0:e.payload.value.name}\` db`,type:"created"}}),await u()}})]})]})]})}export{P as default};
